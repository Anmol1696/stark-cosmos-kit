{"version":3,"sources":["../../src/extension/chain-wallet.ts","../../src/extension/main-wallet.ts","../../src/extension/client.ts","../../src/extension/utils.ts","../../src/extension/registry.ts","../../src/constant.ts"],"sourcesContent":["import { ChainRecord, ChainWalletBase, Wallet } from '@cosmos-kit/core';\n\nexport class ChainExodusExtension extends ChainWalletBase {\n  constructor(walletInfo: Wallet, chainInfo: ChainRecord) {\n    super(walletInfo, chainInfo);\n  }\n}\n","import { EndpointOptions, Wallet } from '@cosmos-kit/core';\nimport { MainWalletBase } from '@cosmos-kit/core';\n\nimport { ChainExodusExtension } from './chain-wallet';\nimport { ExodusClient } from './client';\nimport { getExodusFromExtension } from './utils';\n\nexport class ExodusExtensionWallet extends MainWalletBase {\n  constructor(\n    walletInfo: Wallet,\n    preferredEndpoints?: EndpointOptions['endpoints']\n  ) {\n    super(walletInfo, ChainExodusExtension);\n    this.preferredEndpoints = preferredEndpoints;\n  }\n\n  async initClient() {\n    this.initingClient();\n    try {\n      const exodus = await getExodusFromExtension();\n      if (!exodus?.cosmos) {\n        throw new Error('Exodus client does not support Cosmos provider');\n      }\n      this.initClientDone(exodus ? new ExodusClient(exodus.cosmos) : undefined);\n    } catch (error: unknown) {\n      this.logger?.error(error);\n      this.initClientError(error as Error);\n    }\n  }\n}\n","import { BroadcastMode, DirectSignDoc, WalletClient } from '@cosmos-kit/core';\n\nimport type {\n  AccountData,\n  DirectSignResponse,\n  ExodusCosmosProvider,\n  StdSignDoc,\n} from '../types';\n\nexport class ExodusClient implements WalletClient {\n  readonly client: ExodusCosmosProvider;\n\n  constructor(client: ExodusCosmosProvider) {\n    this.client = client;\n  }\n\n  async connect(chainId: string | string[]) {\n    await this.client.connect({\n      chainId: Array.isArray(chainId) ? chainId[0] : chainId,\n    });\n  }\n\n  async getSimpleAccount(chainId: string) {\n    const { address } = await this.getAccount(chainId);\n    return {\n      namespace: 'cosmos',\n      chainId,\n      address,\n    };\n  }\n\n  async getAccount(chainId: string) {\n    const response = await this.client.connect({ chainId });\n\n    return {\n      ...response,\n      pubkey: response.publicKey,\n    };\n  }\n\n  async getOfflineSigner(chainId: string) {\n    return {\n      getAccounts: async (): Promise<AccountData[]> => [\n        await this.getAccount(chainId),\n      ],\n      signDirect: async (\n        signer: string,\n        signDoc: DirectSignDoc\n      ): Promise<DirectSignResponse> => {\n        return this.client.signTransaction(signDoc);\n      },\n    };\n  }\n\n  async signAmino(chainId: string, signer: string, signDoc: StdSignDoc) {\n    return this.client.signAminoTransaction(signDoc);\n  }\n\n  async sendTx(chainId: string, transaction: Uint8Array, mode: BroadcastMode) {\n    return this.client.sendTx(chainId, transaction, mode);\n  }\n}\n","import { ClientNotExistError } from '@cosmos-kit/core';\n\nimport type { Exodus, ExodusWindow } from '../types';\n\nexport const getExodusFromExtension: () => Promise<\n  Exodus | undefined\n> = async () => {\n  if (typeof window === 'undefined') {\n    return void 0;\n  }\n\n  const exodus = ((window as unknown) as ExodusWindow).exodus;\n\n  if (exodus) {\n    return exodus;\n  }\n\n  if (document.readyState === 'complete') {\n    if (exodus) {\n      return exodus;\n    } else {\n      throw ClientNotExistError;\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    const documentStateChange = (event: Event) => {\n      if (\n        event.target &&\n        (event.target as Document).readyState === 'complete'\n      ) {\n        if (exodus) {\n          resolve(exodus);\n        } else {\n          reject(ClientNotExistError.message);\n        }\n        document.removeEventListener('readystatechange', documentStateChange);\n      }\n    };\n\n    document.addEventListener('readystatechange', documentStateChange);\n  });\n};\n","import { Wallet } from '@cosmos-kit/core';\nimport { GoDesktopDownload } from 'react-icons/go';\nimport { RiChromeFill } from 'react-icons/ri';\n\nimport { ICON } from '../constant';\n\nexport const exodusExtensionInfo: Wallet = {\n  name: 'exodus-extension',\n  prettyName: 'Exodus',\n  logo: ICON,\n  mode: 'extension',\n  mobileDisabled: true,\n  rejectMessage: {\n    source: 'Request rejected',\n  },\n  connectEventNamesOnWindow: ['exodus_keystorechange'],\n  downloads: [\n    {\n      device: 'desktop',\n      browser: 'chrome',\n      icon: RiChromeFill,\n      link:\n        'https://chrome.google.com/webstore/detail/exodus-web3-wallet/aholpfdialjgjfhomihkjbmgjidlcdno',\n    },\n    {\n      icon: GoDesktopDownload,\n      link: 'https://www.exodus.com/download',\n    },\n  ],\n};\n","export const ICON =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yOTguMjAzIDgzLjc2NDVMMTcwLjQ0OSAwVjQ2LjgzMzJMMjUyLjQwNSAxMDAuMDg5TDI0Mi43NjMgMTMwLjU5OEgxNzAuNDQ5VjE2OS40MDJIMjQyLjc2M0wyNTIuNDA1IDE5OS45MTFMMTcwLjQ0OSAyNTMuMTY3VjMwMEwyOTguMjAzIDIxNi41MDNMMjc3LjMxMyAxNTAuMTM0TDI5OC4yMDMgODMuNzY0NVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xNjYxXzI5NSkiLz4KPHBhdGggZD0iTTU5LjMwMDcgMTY5LjQwMkgxMzEuMzQ2VjEzMC41OThINTkuMDMyOUw0OS42NTg5IDEwMC4wODlMMTMxLjM0NiA0Ni44MzMyVjBMMy41OTI1MyA4My43NjQ1TDI0LjQ4MzEgMTUwLjEzNEwzLjU5MjUzIDIxNi41MDNMMTMxLjYxNCAzMDBWMjUzLjE2N0w0OS42NTg5IDE5OS45MTFMNTkuMzAwNyAxNjkuNDAyWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE2NjFfMjk1KSIvPgo8bWFzayBpZD0ibWFzazBfMTY2MV8yOTUiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjMiIHk9IjAiIHdpZHRoPSIyOTYiIGhlaWdodD0iMzAwIj4KPHBhdGggZD0iTTI5OC4yMDQgODMuNzY0NUwxNzAuNDUgMFY0Ni44MzMyTDI1Mi40MDUgMTAwLjA4OUwyNDIuNzYzIDEzMC41OThIMTcwLjQ1VjE2OS40MDJIMjQyLjc2M0wyNTIuNDA1IDE5OS45MTFMMTcwLjQ1IDI1My4xNjdWMzAwTDI5OC4yMDQgMjE2LjUwM0wyNzcuMzEzIDE1MC4xMzRMMjk4LjIwNCA4My43NjQ1WiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzE2NjFfMjk1KSIvPgo8cGF0aCBkPSJNNTkuMzAxIDE2OS40MDJIMTMxLjM0N1YxMzAuNTk4SDU5LjAzMzJMNDkuNjU5MiAxMDAuMDg5TDEzMS4zNDcgNDYuODMzMlYwTDMuNTkyNzcgODMuNzY0NUwyNC40ODM0IDE1MC4xMzRMMy41OTI3NyAyMTYuNTAzTDEzMS42MTUgMzAwVjI1My4xNjdMNDkuNjU5MiAxOTkuOTExTDU5LjMwMSAxNjkuNDAyWiIgZmlsbD0idXJsKCNwYWludDNfbGluZWFyXzE2NjFfMjk1KSIvPgo8L21hc2s+CjxnIG1hc2s9InVybCgjbWFzazBfMTY2MV8yOTUpIj4KPHJlY3QgeD0iMy43NTAyNCIgd2lkdGg9IjI5Mi41IiBoZWlnaHQ9IjMwMCIgZmlsbD0idXJsKCNwYWludDRfbGluZWFyXzE2NjFfMjk1KSIvPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTY2MV8yOTUiIHgxPSIyNTYuODc1IiB5MT0iMzIwLjYyNSIgeDI9IjE3MS4zIiB5Mj0iLTMyLjk0NTkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzBCNDZGOSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNCQkZCRTAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzE2NjFfMjk1IiB4MT0iMjU2Ljg3NSIgeTE9IjMyMC42MjUiIHgyPSIxNzEuMyIgeTI9Ii0zMi45NDU5IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiMwQjQ2RjkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjQkJGQkUwIi8+CjwvbGluZWFyR3JhZGllbnQ+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8xNjYxXzI5NSIgeDE9IjI1Ni44NzUiIHkxPSIzMjAuNjI1IiB4Mj0iMTcxLjMiIHkyPSItMzIuOTQ1OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjMEI0NkY5Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0JCRkJFMCIvPgo8L2xpbmVhckdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50M19saW5lYXJfMTY2MV8yOTUiIHgxPSIyNTYuODc1IiB5MT0iMzIwLjYyNSIgeDI9IjE3MS4zIiB5Mj0iLTMyLjk0NTkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzBCNDZGOSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNCQkZCRTAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDRfbGluZWFyXzE2NjFfMjk1IiB4MT0iMjIuNTAwMiIgeTE9IjY3LjUiIHgyPSIxNzAuNjI1IiB5Mj0iMTc4LjEyNSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBvZmZzZXQ9IjAuMTE5NzkyIiBzdG9wLWNvbG9yPSIjODk1MkZGIiBzdG9wLW9wYWNpdHk9IjAuODciLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjREFCREZGIiBzdG9wLW9wYWNpdHk9IjAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K';\n"],"mappings":"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","names":[]}